var win=Ti.UI.currentWindow;var label=Ti.UI.createLabel({text:'Attempting to register with Apple for Push Notifications...',textAlign:'center',width:'auto'});win.add(label);Ti.Network.registerForPushNotifications({types:[Ti.Network.NOTIFICATION_TYPE_BADGE,Ti.Network.NOTIFICATION_TYPE_ALERT,Ti.Network.NOTIFICATION_TYPE_SOUND,Ti.Network.NOTIFICATION_TYPE_NEWSSTAND],success:function(e)
{var deviceToken=e.deviceToken;label.text="Device registered. Device token: \n\n"+deviceToken;Ti.API.info("Push notification device token is: "+deviceToken);Ti.API.info("Push notification types: "+Ti.Network.remoteNotificationTypes);Ti.API.info("Push notification enabled: "+Ti.Network.remoteNotificationsEnabled);},error:function(e)
{label.text="Error during registration: "+e.error;},callback:function(e)
{alert("Received a push notification\n\nPayload:\n\n"+JSON.stringify(e.data));}});